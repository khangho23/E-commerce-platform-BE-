{
  "openapi": "3.1.0",
  "info": {
    "title": "API Ecommerce Documentation - Ecommerce back end Express API with Swagger",
    "version": "0.1.0",
    "description": "This is a ecommerce application made with Express and documented with Swagger",
    "license": {
      "name": "Ecommerce platform",
      "url": ""
    },
    "contact": {
      "name": "Khang Ho",
      "url": "https://khangho.id.vn",
      "email": "hohoangkhang18@gmail.com"
    }
  },
  "components": {
    "schemas": {
      "apiKey": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "default": true
          },
          "permissions": {
            "type": "boolean",
            "enums": [
              "0000",
              "1111",
              "2222"
            ]
          }
        },
        "required": [
          "key",
          "permissions"
        ],
        "uniqueItems": [
          "key"
        ]
      },
      "cart": {
        "type": "object",
        "properties": {
          "user": {
            "type": "string"
          },
          "state": {
            "type": "string",
            "enum": [
              "active",
              "completed",
              "failed",
              "pending"
            ],
            "default": "active"
          },
          "products": {
            "type": "array",
            "default": []
          },
          "countProducts": {
            "type": "number",
            "default": 0
          }
        },
        "required": [
          "user",
          "products",
          "countProducts"
        ],
        "uniqueItems": [
          "key"
        ]
      },
      "comment": {
        "type": "object",
        "properties": {
          "productId": {
            "type": "string",
            "required": true
          },
          "userId": {
            "type": "string",
            "required": true
          },
          "content": {
            "type": "string",
            "required": true
          },
          "left": {
            "type": "number"
          },
          "right": {
            "type": "number"
          },
          "parentId": {
            "type": "string"
          },
          "isDeleted": {
            "type": "boolean",
            "default": false
          }
        },
        "required": [
          "productId",
          "userId",
          "content"
        ]
      },
      "discount": {
        "type": "object",
        "properties": {
          "shop": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "percentage": {
            "type": "number",
            "required": false
          },
          "description": {
            "type": "string"
          },
          "type": {
            "type": "string",
            "default": "fixed_amount"
          },
          "value": {
            "type": "number"
          },
          "code": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "maxUses": {
            "type": "number"
          },
          "maxUsesPerUser": {
            "type": "number"
          },
          "usersUsed": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "minOrderValue": {
            "type": "number",
            "default": 0
          },
          "isActive": {
            "type": "boolean",
            "default": true
          },
          "applyTo": {
            "type": "string",
            "enum": [
              "product1",
              "product2",
              "product3"
            ]
          },
          "productIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          }
        },
        "required": [
          "shop",
          "name",
          "description",
          "type",
          "value",
          "code",
          "startDate",
          "endDate",
          "maxUses",
          "maxUsesPerUser",
          "minOrderValue",
          "isActive",
          "applyTo"
        ]
      },
      "inventory": {
        "type": "object",
        "properties": {
          "product": {
            "type": "string"
          },
          "shop": {
            "type": "string"
          },
          "location": {
            "type": "string",
            "default": "unKnown"
          },
          "stock": {
            "type": "number"
          },
          "reservations": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          }
        },
        "required": [
          "product",
          "shop",
          "stock"
        ]
      },
      "keyToken": {
        "type": "object",
        "properties": {
          "user": {
            "type": "string",
            "ref": "Shop"
          },
          "privateKey": {
            "type": "string"
          },
          "publicKey": {
            "type": "string"
          },
          "refreshTokensUsed": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          },
          "refreshToken": {
            "type": "string"
          }
        },
        "required": [
          "user",
          "privateKey",
          "publicKey",
          "refreshToken"
        ]
      },
      "order": {
        "type": "object",
        "properties": {
          "user": {
            "type": "number"
          },
          "checkout": {
            "type": "object",
            "default": {}
          },
          "shipping": {
            "type": "object",
            "default": {}
          },
          "payment": {
            "type": "object",
            "default": {}
          },
          "products": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "trackingNumber": {
            "type": "string",
            "default": "#0000118052022"
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "shipped",
              "delivered",
              "cancelled"
            ],
            "default": "pending"
          }
        },
        "required": [
          "user",
          "products"
        ]
      },
      "product": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "thumb": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "price": {
            "type": "number"
          },
          "quantity": {
            "type": "number"
          },
          "category": {
            "type": "string",
            "required": true,
            "enum": [
              "Clothing",
              "Electronics",
              "Furniture"
            ]
          },
          "shop": {
            "type": "string",
            "ref": "Shop"
          },
          "attributes": {
            "type": "object"
          },
          "rating": {
            "type": "number",
            "default": 0,
            "minimum": 0,
            "maximum": 5
          },
          "variation": {
            "type": "array",
            "items": {
              "type": "object"
            },
            "default": []
          },
          "isDraft": {
            "type": "boolean",
            "default": true,
            "index": true,
            "select": false
          },
          "isPublished": {
            "type": "boolean",
            "default": false,
            "index": true,
            "select": false
          }
        },
        "required": [
          "name",
          "thumb",
          "price",
          "quantity",
          "category",
          "shop",
          "attributes"
        ]
      },
      "shop": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "trim": true,
            "maxLength": 150
          },
          "email": {
            "type": "string",
            "unique": true,
            "trim": true
          },
          "password": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "default": "inactive"
          },
          "verify": {
            "type": "boolean",
            "default": false
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "default": []
          }
        },
        "required": [
          "password"
        ]
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "parameters": {
      "x-api-key": {
        "name": "x-api-key",
        "in": "header",
        "required": true,
        "description": "API Key needed to access the endpoints",
        "schema": {
          "type": "string",
          "example": "b9913657ab193323d09412b3d8c7bc0039cefd657e66b147b6b0e19d4cf434d9006143621f5b92c215ce1326d28e555e77b965053a3e1a57143bf44cb2424696"
        }
      },
      "x-client-id": {
        "name": "x-client-id",
        "in": "header",
        "required": true,
        "description": "Client ID needed to access the endpoints",
        "schema": {
          "type": "string"
        }
      },
      "limit": {
        "name": "limit",
        "in": "query",
        "required": false,
        "description": "Limit the number of results",
        "schema": {
          "type": "number"
        }
      },
      "offset": {
        "name": "offset",
        "in": "query",
        "required": false,
        "description": "Offset the results",
        "schema": {
          "type": "number"
        }
      }
    },
    "responses": {
      "Success200": {
        "description": "Success",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Success"
                },
                "status": {
                  "type": "number",
                  "example": 200
                },
                "metadata": {
                  "type": "object",
                  "example": {}
                },
                "options": {
                  "type": "object",
                  "example": {}
                }
              }
            }
          }
        }
      },
      "Created201": {
        "description": "Created",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "type": "string",
                  "example": "Created successfully"
                },
                "status": {
                  "type": "number",
                  "example": 201
                },
                "metadata": {
                  "type": "object",
                  "example": {}
                },
                "options": {
                  "type": "object",
                  "example": {}
                }
              }
            }
          }
        }
      },
      "BadRequest400": {
        "description": "Bad request"
      },
      "Unauthorized401": {
        "description": "Unauthorized"
      },
      "NotFound404": {
        "description": "Not found"
      },
      "InternalServerError500": {
        "description": "Internal server error"
      }
    }
  },
  "paths": {
    "/v1/api/shop/register": {
      "post": {
        "summary": "Register a shop",
        "tags": [
          "Access"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "email",
                  "password"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Ben White"
                  },
                  "email": {
                    "type": "string",
                    "example": "benwhite@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "String$$123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/Created201"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/shop/login": {
      "post": {
        "summary": "Login a shop",
        "tags": [
          "Access"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "refreshToken"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "benwhite@gmail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "String$$123"
                  },
                  "refreshToken": {
                    "type": "string",
                    "example": null
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/shop/logout": {
      "post": {
        "summary": "Logout a shop",
        "tags": [
          "Access"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/shop/handle-refresh-token": {
      "post": {
        "summary": "Deal with refresh token",
        "tags": [
          "Access"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          },
          {
            "name": "refresh-token",
            "in": "header",
            "required": true,
            "description": "Refresh token to get new access token",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product/drafts": {
      "get": {
        "summary": "Get all drafts of a shop",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product/published": {
      "get": {
        "summary": "Get all published products of a shop",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product/search": {
      "get": {
        "summary": "Search products by name",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "name": "keySearch",
            "in": "query",
            "required": true,
            "description": "Key search to find products",
            "schema": {
              "type": "string",
              "example": "ghế tantra"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product/all": {
      "get": {
        "summary": "Get all products of a shop",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product/id/{productId}": {
      "get": {
        "summary": "Get product by ID",
        "tags": [
          "Product"
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "description": "Product ID to get",
            "schema": {
              "type": "string",
              "example": "665a9b3ac24d3da384991475"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "patch": {
        "summary": "Update a product",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          },
          {
            "name": "productId",
            "in": "path",
            "required": true,
            "description": "Product ID to unpublish",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/product": {
      "post": {
        "summary": "Create a product",
        "tags": [
          "Product"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Giáp rồng"
                  },
                  "thumb": {
                    "type": "string",
                    "example": "https://salt.tikicdn.com/cache/100x100/ts/product/d6/4f/c3/71f089390f605d172b54ed6f6aaa1877e.jpg.webp"
                  },
                  "description": {
                    "type": "string",
                    "example": "Giáp làm từ vảy rồng chắc chắn sẽ giúp bạn trở thành một chiến binh mạnh mẽ"
                  },
                  "slug": {
                    "type": "string",
                    "example": "giap-rong"
                  },
                  "price": {
                    "type": "number",
                    "example": 111000
                  },
                  "quantity": {
                    "type": "number",
                    "example": 23
                  },
                  "category": {
                    "type": "string",
                    "example": "Clothing"
                  },
                  "shop": {
                    "type": "string",
                    "example": "60c72b2f5f1b2c001c8e4e8e"
                  },
                  "attributes": {
                    "type": "object",
                    "properties": {
                      "brand": {
                        "type": "string",
                        "example": "DRAGON fly"
                      },
                      "size": {
                        "type": "string",
                        "example": "XL"
                      },
                      "material": {
                        "type": "string",
                        "example": "Vảy rồng"
                      }
                    }
                  },
                  "variation": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": []
                  }
                },
                "required": [
                  "name",
                  "thumb",
                  "price",
                  "quantity",
                  "category",
                  "shop",
                  "attributes"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/Created201"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/inventory/add-stock": {
      "post": {
        "summary": "Add stock to inventory",
        "tags": [
          "Inventory"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 100
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/discount/amount": {
      "post": {
        "summary": "Get discount amount",
        "tags": [
          "Discount"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "discountCode": {
                    "type": "string",
                    "example": "DISCOUNT2024"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/discount/product-codes": {
      "get": {
        "summary": "Get all discount codes with products",
        "tags": [
          "Discount"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/discount/all-products": {
      "get": {
        "summary": "Get all products with discount codes",
        "tags": [
          "Discount"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/discount": {
      "get": {
        "summary": "Get all discount codes by shop",
        "tags": [
          "Discount"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "post": {
        "summary": "Create a discount",
        "tags": [
          "Discount"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "example": "DISCOUNT2024"
                  },
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "discountAmount": {
                    "type": "number",
                    "example": 20000
                  },
                  "validUntil": {
                    "type": "string",
                    "example": "2024-12-31T23:59:59Z"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/Created201"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/cart": {
      "get": {
        "summary": "Get cart by user ID",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "post": {
        "summary": "Add product to cart",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 2
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/Created201"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "put": {
        "summary": "Update cart",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "quantity": {
                    "type": "number",
                    "example": 3
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "delete": {
        "summary": "Delete product from cart",
        "tags": [
          "Cart"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/checkout": {
      "post": {
        "summary": "Checkout cart",
        "tags": [
          "Checkout"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "cartId": {
                    "type": "string",
                    "example": "66710d8dd12e8b626509aa48"
                  },
                  "address": {
                    "type": "string",
                    "example": "123 Main Street"
                  },
                  "paymentMethod": {
                    "type": "string",
                    "example": "credit_card"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "$ref": "#/components/responses/Created201"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/comment": {
      "get": {
        "summary": "Get a comment by parent ID",
        "tags": [
          "Comment"
        ],
        "parameters": [
          {
            "name": "productId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the product"
          },
          {
            "name": "parentCommentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "ID of the parent comment"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            },
            "description": "Limit the number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer"
            },
            "description": "Offset the results"
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Comments fetched"
                    },
                    "metadata": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "404": {
            "$ref": "#/components/responses/NotFound404"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "post": {
        "summary": "Create a comment",
        "tags": [
          "Comment"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "productId": {
                    "type": "string"
                  },
                  "userId": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "parentCommentId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Comment created"
                    },
                    "metadata": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      },
      "delete": {
        "summary": "Delete a comment",
        "tags": [
          "Comment"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string"
                  },
                  "productId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Comment deleted"
                    },
                    "metadata": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    },
    "/v1/api/notification": {
      "get": {
        "summary": "Get notifications successfully!",
        "tags": [
          "Notification"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/x-api-key"
          },
          {
            "$ref": "#/components/parameters/x-client-id"
          },
          {
            "name": "receivedId",
            "in": "query",
            "required": true,
            "description": "ID of the user who received the notification",
            "schema": {
              "type": "number"
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "description": "Type of the notification",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/Success200"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest400"
          },
          "401": {
            "$ref": "#/components/responses/Unauthorized401"
          },
          "500": {
            "$ref": "#/components/responses/InternalServerError500"
          }
        }
      }
    }
  }
}